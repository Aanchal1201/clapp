{% extends 'home/base.html' %}

{% block title %} Pie Chart {% endblock title %}

{% block css %}
<style>

</style>
{% endblock css %}

{% block body %}
<div class="container" id="container" width="400">
    <canvas id="pie-chart"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
<script>
    const createConfig = function(type, data, labels){
        return {
            type: type,
            data: {
                datasets: [{
                    data: data,
                    backgroundColor: [
                        'red','yellow','green','blue','pink'
                    ],
                label : 'Quiz Score'
                }],
                labels: labels
            },
            options:{
                responsive:true
            }
        }
    }

    window.onload = function(){
        var ctx = document.getElementById('pie-chart');
        let dataSet = {{data|safe}}
        let labelSet = {{labels|safe}}
        let config = createConfig('pie', dataSet, labelSet)
        window.myPie = new Chart(ctx,config);
    }
</script>
{% endblock body %}